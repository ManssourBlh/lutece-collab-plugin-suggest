<div class="row-fluid">
	<div class="span12">
		<span class="pull-right" ><@paginationAdmin paginator=paginator combo=1 /></span>
		<table class="table table-striped table-condensed">
		<tr>
			<th><input type="checkbox" id="select-ids" name="select-ids" value="" /></th>
			<th class="span6">#i18n{digglike.manageDiggSubmit.rowTitle}</th>
			<th class="span6">#i18n{digglike.manageDiggSubmit.rowActions}</th>
		</tr>
		<#list digg_submit_list as digg_submit>
		<tr>
			<td><input class="selected-id" type="checkbox" name="selected_digg_submit" value="${digg_submit.idDiggSubmit}" /></td>
			<td id="digg${digg_submit.idDiggSubmit}" name="digg${digg_submit.idDiggSubmit}" style="padding-bottom: 10px;">
				<#if digg_submit.diggSubmitTitle?exists>
					<h4>
						
						<#if category_list?has_content  && digg_submit.category?exists>
							<span class="label label-inverse" style="background-color:${digg_submit.category.color!''};">
								${digg_submit.category.title}
							</span> 
						</#if>	
						<#if digg_submit.pinned>
								<i class="icon-black icon-asterisk"></i>
						</#if>
						
						<#if digg_submit.diggSubmitState.number=publish_state_number>
							<span class="label label-success" title="#i18n{digglike.manageDiggSubmit.rowDiggSubmitState} #i18n{digglike.manageDiggSubmit.altPublish}">
								<i class="icon-white icon-ok"></i>&nbsp;#i18n{digglike.manageDiggSubmit.altPublish}
							</span>
						<#elseif digg_submit.diggSubmitState.number=waiting_for_publish_state_number>
							<span class="label label-warning" title="#i18n{digglike.manageDiggSubmit.rowDiggSubmitState} &nbsp;#i18n{digglike.manageDiggSubmit.altWaitingForPublish}">
								<i class="icon-white icon-pause"></i>&nbsp;#i18n{digglike.manageDiggSubmit.altWaitingForPublish}
							</span>
						<#else>
							<span class="label label-important" title="#i18n{digglike.manageDiggSubmit.rowDiggSubmitState} #i18n{digglike.manageDiggSubmit.altDisable}">
								<i class="icon-white icon-remove"></i>&nbsp;#i18n{digglike.manageDiggSubmit.altDisable}
							</span>
						</#if>
						<#if digg_submit.diggSubmitTitle?length &gt; 100>
							&nbsp;${digg_submit.diggSubmitTitle?substring(0,100)}...
						<#else>
							&nbsp;${digg_submit.diggSubmitTitle}
						</#if>
						<#if digg_submit.reported>
							<span class="label label-important pull-right">#i18n{digglike.manageDiggSubmit.altWarning}</span>
						</#if>
					</h4>
					<div class="btn-toolbar" >
					<div class="btn-group">
						<button class="btn btn-inverse disabled" data-title="">
							<i class="icon-white icon-star"></i>&nbsp;#i18n{digglike.manageDiggSubmit.rowNumberVote}&nbsp;${digg_submit.numberVote}
						</button>
						<button href="#" class="btn btn-inverse disabled">
							<i class="icon-white icon-thumbs-up"></i>
							&nbsp;#i18n{digglike.manageDiggSubmit.rowNumberScore}&nbsp;${digg_submit.numberScore}
						</button>
						<button href="#" class="btn btn-inverse disabled">
							<i class="icon-white icon-comment"></i>&nbsp;#i18n{digglike.manageDiggSubmit.rowNumberComment} ${digg_submit.numberComment} 
							/ #i18n{digglike.manageDiggSubmit.rowNumberCommentEnable} ${digg_submit.numberCommentEnable}
							/ #i18n{digglike.manageDiggSubmit.rowNumberCommentIdle} ${digg_submit.numberComment - digg_submit.numberCommentEnable}
						</button>
					</div>
				</div>
					<#if digg_submit.diggSubmitValue?exists>
						<#if digg_submit.diggSubmitValue?length &gt; 600>
							<div class="full">								
								<span class="pull-right badge badge-inverse">
									<i class="icon-chevron-up icon-white"></i>
								</span>	
								${digg_submit.diggSubmitValue}
							</div>	
							<div class="preview">
								<span class="pull-right badge badge-inverse">
									<i class="icon-chevron-down icon-white"></i>
								</span>	
								${digg_submit.diggSubmitValue?substring(0,600)}...
								<p class="label label-info pull-right">Lire la suite...</p>
							</div>
						<#else>
							<div class="preview">${digg_submit.diggSubmitValue}</div>
						</#if>
					</#if>
				</#if>
				
			</td>
			<td>
				<a class="btn btn-small btn-primary" href="jsp/admin/plugins/digglike/ManageCommentSubmit.jsp?id_digg_submit=${digg_submit.idDiggSubmit}" title="#i18n{digglike.manageDiggSubmit.altManageComment}">
					<i class="icon-comment icon-white"></i>
				</a>
				 
				<#if digg_submit.diggSubmitState.number=disable_state_number>
				<a class="btn btn-small btn-inverse" href="jsp/admin/plugins/digglike/DoChangeDiggSubmitState.jsp?id_digg_submit=${digg_submit.idDiggSubmit}&state_number=${waiting_for_publish_state_number}#digg${digg_submit.idDiggSubmit}" title="#i18n{digglike.manageDiggSubmit.altWaitingForPublish}">
					<i class="icon-pause icon-white"></i>
				</a>
				<a class="btn btn-small btn-success" href="jsp/admin/plugins/digglike/DoChangeDiggSubmitState.jsp?id_digg_submit=${digg_submit.idDiggSubmit}&state_number=${publish_state_number}#digg${digg_submit.idDiggSubmit}" title="#i18n{digglike.manageDiggSubmit.altPublish}">
					<i class="icon-ok icon-white"></i>
				</a>
				<#elseif digg_submit.diggSubmitState.number=waiting_for_publish_state_number >
				<a class="btn btn-small btn-danger" href="jsp/admin/plugins/digglike/DoChangeDiggSubmitState.jsp?id_digg_submit=${digg_submit.idDiggSubmit}&state_number=${disable_state_number}#digg${digg_submit.idDiggSubmit}" title="#i18n{digglike.manageDiggSubmit.altDisable}">
					<i class="icon-remove icon-white"></i>
				</a>
				 <a class="btn btn-small btn-success" href="jsp/admin/plugins/digglike/DoChangeDiggSubmitState.jsp?id_digg_submit=${digg_submit.idDiggSubmit}&state_number=${publish_state_number}#digg${digg_submit.idDiggSubmit}" title="#i18n{digglike.manageDiggSubmit.altPublish}">
				   <i class="icon-ok icon-white"></i>
				</a>
				<#elseif digg_submit.diggSubmitState.number=publish_state_number >
				<a class="btn btn-small btn-danger" href="jsp/admin/plugins/digglike/DoChangeDiggSubmitState.jsp?id_digg_submit=${digg_submit.idDiggSubmit}&state_number=${disable_state_number}#digg${digg_submit.idDiggSubmit}" title="#i18n{digglike.manageDiggSubmit.altDisable}">
					<i class="icon-remove icon-white"></i>
				</a>
				<a class="btn btn-small btn-inverse" href="jsp/admin/plugins/digglike/DoChangeDiggSubmitState.jsp?id_digg_submit=${digg_submit.idDiggSubmit}&state_number=${waiting_for_publish_state_number}#digg${digg_submit.idDiggSubmit}" title="#i18n{digglike.manageDiggSubmit.altWaitingForPublish}">
					<i class="icon-pause icon-white"></i>
				</a>
				</#if>	 
				<a class="btn btn-small btn-danger" href="jsp/admin/plugins/digglike/ConfirmRemoveDiggSubmit.jsp?id_digg_submit=${digg_submit.idDiggSubmit}" title="#i18n{digglike.manageDiggSubmit.altDelete}">
					<i class="icon-trash icon-white"></i>
				</a>

			</td>
		</tr>
    </#list>
	</table>
	
	</div>
</div>
<script>
	$(document).ready( function () {
		$(".full").toggle();
		$(".preview").click(function(){
			$(this).toggle();
			$(this).prev().toggle();
		}); 
		$(".full").click(function(){
			$(this).toggle();
			$(this).next().toggle();
		});
		var toGo = location.hash;
		$('html, body').animate( {'scrollTop':$(toGo).offset().top - 120 },0 );
		
		// For multi selection
		$( 'input[type="checkbox"]#select-ids' ).click( function(  ) {
			if ( $( this ).attr( 'checked' ) ) {
				$( 'input[type="checkbox"].selected-id' ).attr( 'checked', true );
			} else {
				$( 'input[type="checkbox"].selected-id' ).attr( 'checked', false );
			}
		} );
	});
</script>